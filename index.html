<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Table</title>
 </head>
<body class="p-0">
	aaaa
	 <script>
	         if (Notification.permission !== 'granted') {
            Notification.requestPermission();
        }
                    if (document.hidden) {
                new Notification("message");
            }
            new Notification("message2");
            console.log('aaaa');

            function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

// 使用方法
sleep(10000).then(() => {
	new Notification("message3");
  console.log('Wake up after 10 seconds.');
});


// 检查浏览器是否支持Notification API
if ('Notification' in window) {
  // 请求权限
  Notification.requestPermission().then(permission => {
    // 检查用户是否授予了权限
    if (permission === 'granted') {
      // 创建通知
      const notification = new Notification('Hello', {
        // 通知的标题
        title: 'My Notification',
        // 通知的正文
        body: 'This is a notification!',
        // 可选：通知的图标
        icon: 'path/to/icon.png'
      });

      // 可选：添加通知的点击事件
      notification.onclick = () => {
        console.log('Notification clicked!');
      };
    }
  });
} else {
  console.log('This browser does not support notifications.');
}




let notification;

// 可能的值包括：denied (用户拒绝了通知的显示), granted (用户允许了通知的显示), 或 default (因为不知道用户的选择，所以浏览器的行为与 denied 时相同).

if (window.Notification && Notification.permission === 'granted') {
notification = new Notification('您有一条新的来电', {
dir: 'rtl', //dir : 文字的方向；它的值可以是 auto（自动）, ltr（从左到右）, or rtl（从右到左）

body: '程序员正在等待服务'//body: 通知中额外显示的字符串

// icon: img 一个图片的URL，将被用于显示通知的图标。

// tag: 赋予通知一个ID，以便在必要的时候对通知进行刷新、替换或移除。

});

} else if (Notification.permission !== 'denied') {
Notification.requestPermission().then(function(permission) {
// 如果用户接受权限，我们就可以发起一条消息

if (permission === 'granted') {
notification = new Notification('您有一条新的来电', {
dir: 'rtl',

body: '程序员正在等待服务'

// icon: img

});

}

});
}

     </script>
</body>
</html>

           
